<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/layout">

<th:block layout:fragment="description">
    <title>Home Page</title>
</th:block>

<div class="container" layout:fragment="content">
    <h1>Registration</h1>
    <form id="registrationForm">
        <div class="card card-inverse card-danger" id="registrationForm-error" style="margin: 30px; display: none;">
            <div class="card-block">
                <h2 class="card-title">오류가 발생했습니다</h2>
                <p class="card-text"></p>
            </div>
        </div>
        <div class="form-group row">
            <label for="registrationEmail" class="col-sm-2 col-form-label">Email</label>
            <div class="col-sm-10">
                <input type="email" class="form-control" id="registrationEmail" placeholder="Email"
                       required="" maxlength="50" data-parsley-trigger="change"/>
            </div>
        </div>
        <div class="form-group row">
            <label for="registrationUsername" class="col-sm-2 col-form-label">Username</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="registrationUsername" placeholder="Username"
                       required="" minlength="6" maxlength="25" data-parsley-type="alphanum" data-parsley-trigger="change"/>
            </div>
        </div>
        <div class="form-group row">
            <label for="registrationPassword" class="col-sm-2 col-form-label">Password</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="registrationPassword" placeholder="Password" minlength="6" maxlength="25" data-parsley-trigger="change" required=""/>
            </div>
        </div>
        <div class="form-group row">
            <label for="registrationPasswordConfirmation" class="col-sm-2 col-form-label">Password Confirmation</label>
            <div class="col-sm-10">
                <input type="password" class="form-control" id="registrationPasswordConfirmation" placeholder="Password" minlength="6" maxlength="25" required="" data-parsley-trigger="change" data-parsley-equalto="#registrationPassword"/>
            </div>
        </div>
        <div class="form-group row">
            <div class="offset-sm-2 col-sm-10">
                <button type="submit" class="btn btn-primary" disabled="disabled">회원 가입</button>
                <br/>
                <a th:href="@{/login}">Login</a>
            </div>
        </div>
    </form>

    <!---->
    <!---->
    <!---->
    <!---->
    <!---->

    <script>

        // JS 목록
        const REGISTRATION_JAVASCRIPT_ARRAY = [
            "registration.js"
        ];

        // CSS 목록
        const REGISTRATION_CSS_ARRAY = [
            "registration.css"
        ];

        $(document).ready(function () {

            // CSS 로딩
            CSS_LOADER(REGISTRATION_CSS_ARRAY, "/css/")
                .done(function () { // 호출 성공
                    console.log("[회원 가입 CSS 로딩 완료]");
                })
                .fail(function (error) { // 에러 발생
                    console.log("[회원 가입 CSS 로딩 에러]");
                    console.log(error);
                });

            // JS 로딩
            SCRIPT_LOADER(REGISTRATION_JAVASCRIPT_ARRAY, "/js/")
                .done(function () { // 호출 성공
                    console.log("[회원 가입 JAVASCRIPT 로딩 완료]");

                    // 스크립트 로딩 완료 후 페이지에서 처리 할 내용
                    $("#registrationForm").parsley().on("field:validated",function () {
                    });

                })
                .fail(function (error) { // 에러 발생
                    console.log("[회원 가입 JAVASCRIPT 로딩 에러]");
                    console.log(error);
                });
        });
    </script>
</div>
</html>